<?xml version="1.0" encoding="utf-8" ?>
<Defs>
	<!-- Unrefined kolto ================================================================ -->
	<ThingDef ParentName="ResourceBase">
		<defName>kotor_unrefinedkolto</defName>
		<label>unrefined Kolto</label>
		<description>A rare liquid from the aquatic world Manaan that can be refined into a powerful healing substance.</description>
		<tickerType>Normal</tickerType>
		<techLevel>Spacer</techLevel>
		<graphicData>
			<texPath>kolto_system/unrefined_kolto</texPath>
			<graphicClass>Graphic_StackCount</graphicClass>
			<drawSize>0.85</drawSize>
		</graphicData>
		<stackLimit>150</stackLimit>
		<healthAffectsPrice>false</healthAffectsPrice>
		<intricate>true</intricate> <!-- Not returned to player when product made of this is smelted. -->
		<statBases>
			<MaxHitPoints>60</MaxHitPoints>
			<MarketValue>50</MarketValue>
			<Mass>1</Mass>
			<Flammability>1</Flammability>
			<DeteriorationRate>2.0</DeteriorationRate>
		</statBases>
		<thingCategories>
			<li>Manufactured</li>
		</thingCategories>
	</ThingDef>

	<!-- Refined kolto ================================================================ -->
	<ThingDef ParentName="ResourceBase">
		<defName>kotor_kolto</defName>
		<label>refined Kolto</label>
		<description>A rare, extremely potent healing substance refined from a liquid only found in the depths of Manaan.</description>
		<possessionCount>3</possessionCount>
		<tickerType>Normal</tickerType>
		<techLevel>Spacer</techLevel>
		<graphicData>
			<texPath>kolto_system/kolto</texPath>
			<graphicClass>Graphic_StackCount</graphicClass>
			<drawSize>0.85</drawSize>
		</graphicData>
		<stackLimit>10</stackLimit>
		<healthAffectsPrice>false</healthAffectsPrice>
		<intricate>true</intricate> <!-- Not returned to player when product made of this is smelted. -->
		<statBases>
			<MaxHitPoints>60</MaxHitPoints>
			<MarketValue>100</MarketValue>
			<Mass>1</Mass>
			<Flammability>0.7</Flammability>
			<DeteriorationRate>1.0</DeteriorationRate>
			<MedicalPotency>2</MedicalPotency>
			<MedicalQualityMax>1.30</MedicalQualityMax>
		</statBases>
		<thingClass>Medicine</thingClass>
		<thingCategories>
		  <li>Medicine</li>
		</thingCategories>
		<orderedTakeGroup>Medicine</orderedTakeGroup>
		<tradeTags>
		  <li>guy762TT_KotORMedicine</li>
		</tradeTags>
	</ThingDef>

	<!-- Medpac Recipes -->
	<RecipeDef>
		<defName>KotORRecipe_medpac</defName>
		<label>make Medpacs</label>
		<description>make 10 Medpacs</description>
		<jobString>Making 10 Medpacs.</jobString>
		<workSpeedStat>DrugSynthesisSpeed</workSpeedStat>
		<soundWorking>Recipe_Drug</soundWorking>
		<workAmount>5000</workAmount>
		<ingredients>
			<li>
				<filter>
				<thingDefs>
					<li>kotor_kolto</li>
				</thingDefs>
				</filter>
				<count>1</count>
			</li>
			<li>
				<filter>
				<thingDefs>
					<li>Neutroamine</li>
				</thingDefs>
				</filter>
				<count>10</count>
			</li>
		</ingredients>
		<fixedIngredientFilter>
			<thingDefs>
				<li>kotor_kolto</li>
				<li>Neutroamine</li>
			</thingDefs>
		</fixedIngredientFilter>
		<products>
			<guy762_medpac>10</guy762_medpac>
		</products>
		<skillRequirements>
			<Medicine>5</Medicine>
		</skillRequirements>
		<workSkill>Medicine</workSkill>
		<displayPriority>762</displayPriority>
		<researchPrerequisite>PenoxycylineProduction</researchPrerequisite>
		<recipeUsers>
			<li>kotor_DrugLab</li>
		</recipeUsers>
	</RecipeDef>
	
	<RecipeDef>
		<defName>KotORRecipe_medpac_adv</defName>
		<label>make Advanced Medpacs</label>
		<description>make 10 Advanced Medpacs</description>
		<jobString>Making 10 Adv. Medpacs.</jobString>
		<workSpeedStat>DrugSynthesisSpeed</workSpeedStat>
		<soundWorking>Recipe_Drug</soundWorking>
		<workAmount>7500</workAmount>
		<ingredients>
			<li>
				<filter>
				<thingDefs>
					<li>kotor_kolto</li>
				</thingDefs>
				</filter>
				<count>2</count>
			</li>
			<li>
				<filter>
				<thingDefs>
					<li>Neutroamine</li>
				</thingDefs>
				</filter>
				<count>20</count>
			</li>
		</ingredients>
		<fixedIngredientFilter>
			<thingDefs>
				<li>kotor_kolto</li>
				<li>Neutroamine</li>
			</thingDefs>
		</fixedIngredientFilter>
		<products>
			<guy762_medpac_adv>10</guy762_medpac_adv>
		</products>
		<skillRequirements>
			<Medicine>10</Medicine>
		</skillRequirements>
		<workSkill>Medicine</workSkill>
		<displayPriority>763</displayPriority>
		<researchPrerequisite>PenoxycylineProduction</researchPrerequisite>
		<recipeUsers>
			<li>kotor_DrugLab</li>
		</recipeUsers>
	</RecipeDef>
	
	<RecipeDef>
		<defName>KotORRecipe_medpac_life</defName>
		<label>make Life Support Pack</label>
		<description>make 10 life support packs</description>
		<jobString>Making 10 life support packs.</jobString>
		<workSpeedStat>DrugSynthesisSpeed</workSpeedStat>
		<soundWorking>Recipe_Drug</soundWorking>
		<workAmount>10000</workAmount>
		<ingredients>
			<li>
				<filter>
				<thingDefs>
					<li>kotor_kolto</li>
				</thingDefs>
				</filter>
				<count>3</count>
			</li>
			<li>
				<filter>
				<thingDefs>
					<li>Neutroamine</li>
				</thingDefs>
				</filter>
				<count>30</count>
			</li>
		</ingredients>
		<fixedIngredientFilter>
			<thingDefs>
				<li>kotor_kolto</li>
				<li>Neutroamine</li>
			</thingDefs>
		</fixedIngredientFilter>
		<products>
			<guy762_medpac_life>10</guy762_medpac_life>
		</products>
		<skillRequirements>
			<Medicine>15</Medicine>
		</skillRequirements>
		<workSkill>Medicine</workSkill>
		<displayPriority>764</displayPriority>
		<researchPrerequisite>PenoxycylineProduction</researchPrerequisite>
		<recipeUsers>
			<li>kotor_DrugLab</li>
		</recipeUsers>
	</RecipeDef>
	
	<RecipeDef>
		<defName>KotORRecipe_antidote</defName>
		<label>make Antidote Kits</label>
		<description>make 10 antidote kits</description>
		<jobString>Making 10 antidote kits.</jobString>
		<workSpeedStat>DrugSynthesisSpeed</workSpeedStat>
		<soundWorking>Recipe_Drug</soundWorking>
		<workAmount>7500</workAmount>
		<ingredients>
			<li>
				<filter>
				<thingDefs>
					<li>kotor_kolto</li>
				</thingDefs>
				</filter>
				<count>1</count>
			</li>
			<li>
				<filter>
				<thingDefs>
					<li>Neutroamine</li>
				</thingDefs>
				</filter>
				<count>5</count>
			</li>
			<li>
				<filter>
				<thingDefs>
					<li>MedicineHerbal</li>
				</thingDefs>
				</filter>
				<count>5</count>
			</li>
		</ingredients>
		<fixedIngredientFilter>
			<thingDefs>
				<li>kotor_kolto</li>
				<li>Neutroamine</li>
				<li>MedicineHerbal</li>
			</thingDefs>
		</fixedIngredientFilter>
		<products>
			<guy762_medpac_antidote>10</guy762_medpac_antidote>
		</products>
		<skillRequirements>
			<Medicine>10</Medicine>
		</skillRequirements>
		<workSkill>Medicine</workSkill>
		<displayPriority>765</displayPriority>
		<researchPrerequisite>PenoxycylineProduction</researchPrerequisite>
		<recipeUsers>
			<li>kotor_DrugLab</li>
		</recipeUsers>
	</RecipeDef>
	
	<!-- Recipe -->
	<RecipeDef>
		<defName>kotor_kolto_recipe</defName>
		<label>refine kolto</label>
		<description>refine kolto</description>
		<jobString>refining kolto.</jobString>
		<workSpeedStat>GeneralLaborSpeed</workSpeedStat>
		<effectWorking>Cook</effectWorking>
		<soundWorking>Recipe_Smelt</soundWorking>
		<workAmount>3000</workAmount>
		<ingredients>
			<li>
				<filter>
				<thingDefs>
					<li>kotor_unrefinedkolto</li>
				</thingDefs>
				</filter>
				<count>1</count>
			</li>
		</ingredients>
		<fixedIngredientFilter>
			<thingDefs>
				<li>kotor_unrefinedkolto</li>
			</thingDefs>
		</fixedIngredientFilter>
		<products>
			<kotor_kolto>1</kotor_kolto>
		</products>
		<skillRequirements>
			<Intellectual>10</Intellectual>
			<Medicine>5</Medicine>
		</skillRequirements>
		<workSkill>Intellectual</workSkill>
		<displayPriority>10</displayPriority>
		<recipeUsers>
			<li>kotor_koltorefinery</li>
		</recipeUsers>
	</RecipeDef>  
	
	<!-- Kolto Extractor ================================================================ -->
	<ThingDef ParentName="BuildingBase">
		<defName>kotor_koltoextractor</defName>
		<label>kolto extractor</label>
		<description>Mines into the water bed to harvest kolto</description>
		<terrainAffordanceNeeded>ShallowWater</terrainAffordanceNeeded>
		<graphicData>
			<texPath>kolto_system/Kolto_Extractor</texPath>
			<graphicClass>Graphic_Single</graphicClass>
			<drawSize>(4, 4)</drawSize>
			<shadowData>
				<volume>(1.5, 1.0, 0.2)</volume>
				<offset>(0.0, 0.0, -0.8)</offset>
			</shadowData>
			<drawOffset>(0,0,0.25)</drawOffset>
		</graphicData>
		<costList>
			<Steel>250</Steel>
			<kotor_czerkatechComponent>2</kotor_czerkatechComponent>
		</costList>
		<building>
			<destroySound>BuildingDestroyed_Metal_Big</destroySound>
		</building>
		<comps>
			<li Class="CompProperties_Power">
				<compClass>CompPowerTrader</compClass>
				<basePowerConsumption>500</basePowerConsumption>
			</li>
			<li Class="CompProperties_Breakdownable"/>
			<li Class="CompProperties_Flickable"/>
			<li Class="CompProperties_Spawner">
				<requiresPower>true</requiresPower>
				<thingToSpawn>kotor_unrefinedkolto</thingToSpawn>
				<spawnCount>10</spawnCount>
				<spawnIntervalRange><min>600000</min><max>600000</max></spawnIntervalRange>
				<writeTimeLeftToSpawn>true</writeTimeLeftToSpawn>
				<showMessageIfOwned>true</showMessageIfOwned>
			</li>
		</comps>
		<altitudeLayer>Building</altitudeLayer>
		<statBases>
			<MarketValue>1000</MarketValue>
			<MaxHitPoints>100</MaxHitPoints>
			<Flammability>2.0</Flammability>
			<Beauty>-10</Beauty>
			<Mass>35</Mass>
			<WorkToBuild>8000</WorkToBuild>
		</statBases>
		<thingSetMakerTags>
			<li>RewardStandardCore</li>
		</thingSetMakerTags>
		<tickerType>Normal</tickerType>
		<size>(1, 3)</size>
		<fillPercent>1.0</fillPercent>
		<leaveResourcesWhenKilled>false</leaveResourcesWhenKilled>
		<passability>Impassable</passability>
		<rotatable>false</rotatable>
		<canOverlapZones>false</canOverlapZones>
		<tradeability>Sellable</tradeability>
		<tradeTags>
			<li>ExoticBuilding</li>
		</tradeTags>
		<researchPrerequisites>
			<li>KOTOR_Research_Kolto</li>
		</researchPrerequisites>
		<designationCategory>KOTOR_BuildTab</designationCategory>
		<uiIconScale>0.6</uiIconScale>
	</ThingDef>
	
	<!-- kolto Refinery ================================================================ -->
	<ThingDef ParentName="BenchBase">
		<defName>kotor_koltorefinery</defName>
		<label>kolto refinery</label>
		<description>Refines the unstable kolto into a useable form.</description>
		<thingClass>Building_WorkTable</thingClass>
		<altitudeLayer>Building</altitudeLayer>
		<passability>PassThroughOnly</passability>
		<pathCost>50</pathCost>
		<statBases>
			<MaxHitPoints>400</MaxHitPoints>
			<WorkToBuild>3000</WorkToBuild>
			<Flammability>1.0</Flammability>
		</statBases>
		<size>(3,5)</size>
		<costList>
			<Steel>450</Steel>
			<kotor_czerkatechComponent>3</kotor_czerkatechComponent>
		</costList>
		<comps>
			<li Class="CompProperties_Power">
				<compClass>CompPowerTrader</compClass>
				<basePowerConsumption>500</basePowerConsumption>
				<shortCircuitInRain>true</shortCircuitInRain>
			</li>
			<li Class="CompProperties_Flickable"/>
			<li Class="CompProperties_Breakdownable"/>
		</comps>
		<castEdgeShadows>false</castEdgeShadows>
		<staticSunShadowHeight>0</staticSunShadowHeight>
		<graphicData>
			<texPath>kolto_system/Kolto_Refinery/Kolto_Refinery</texPath>
			<graphicClass>Graphic_Multi</graphicClass>
			<shaderType>CutoutComplex</shaderType>
			<drawSize>(5,5)</drawSize>
			<shadowData>
				<volume>(2.22, 0.8, 0.62)</volume>
				<offset>(0, 0, -0.13)</offset>
			</shadowData>
			<damageData>
				<rect>(0.3,0.1,2.4,1.8)</rect>
			</damageData>
		</graphicData>
		<inspectorTabs>
			<li>ITab_Bills</li>
		</inspectorTabs>
		<building>
			<spawnedConceptLearnOpportunity>BillsTab</spawnedConceptLearnOpportunity>
		</building>
		<fillPercent>0.5</fillPercent>
		<interactionCellOffset>(0,0,-3)</interactionCellOffset>
		<hasInteractionCell>true</hasInteractionCell>
		<terrainAffordanceNeeded>Heavy</terrainAffordanceNeeded>
		<designationCategory>KOTOR_BuildTab</designationCategory>
		<surfaceType>Item</surfaceType>
		<constructionSkillPrerequisite>6</constructionSkillPrerequisite>
		<placeWorkers>
			<li>PlaceWorker_PreventInteractionSpotOverlap</li>
		</placeWorkers>
		<researchPrerequisites>
			<li>KOTOR_Research_Kolto</li>
		</researchPrerequisites>
	</ThingDef>
	
	<WorkGiverDef>
		<defName>kotor_koltorefinery_WorkGiver</defName>
		<label>make things at Plasma Furnace</label>
		<giverClass>WorkGiver_DoBill</giverClass>
		<workType>Smithing</workType>
		<priorityInType>75</priorityInType>
		<fixedBillGiverDefs>
			<li>kotor_koltorefinery</li>
		</fixedBillGiverDefs>
		<verb>work</verb>
		<gerund>working at</gerund>
		<requiredCapacities>
			<li>Manipulation</li>
		</requiredCapacities>
		<prioritizeSustains>true</prioritizeSustains>
	</WorkGiverDef>
	
	<!-- kolto tank base  ================================================================ -->
	<DesignatorDropdownGroupDef>
		<defName>kotor_koltoTank_Designator</defName>
	</DesignatorDropdownGroupDef>
	
	<ThingDef Name="kotor_koltoTank_Base" ParentName="BedWithQualityBase" Abstract="True">
		<label>kolto tank</label>
		<defaultPlacingRot>South</defaultPlacingRot>
		<description>Patients can be submerged in Kolto which rapidly heals wounds and also helps fight of disease.</description>
		<designatorDropdown>kotor_koltoTank_Designator</designatorDropdown>
		<designationCategory>KOTOR_BuildTab</designationCategory>
		<castEdgeShadows>false</castEdgeShadows>
		<statBases>
			<MaxHitPoints>150</MaxHitPoints>
			<WorkToBuild>2800</WorkToBuild>
			<Mass>35</Mass>
			<Flammability>1.0</Flammability>
			<BedRestEffectiveness>0.1</BedRestEffectiveness>
			<Comfort>0.80</Comfort>
			<ImmunityGainSpeedFactor>1.5</ImmunityGainSpeedFactor>
			<MedicalTendQualityOffset>0.2</MedicalTendQualityOffset>
			<SurgerySuccessChanceFactor>-1</SurgerySuccessChanceFactor>
			<BirthRitualQualityOffset MayRequire="Ludeon.RimWorld.Biotech">5</BirthRitualQualityOffset>
		</statBases>
		<tickerType>Normal</tickerType>
		<comps>
			<li Class="CompProperties_AffectedByFacilities">
				<linkableFacilities>
					<li>VitalsMonitor</li>
				</linkableFacilities>
			</li>
		</comps>
		<size>(1,2)</size>
		<costList>
			<Steel>100</Steel>
			<ComponentIndustrial>2</ComponentIndustrial>
			<kotor_kolto>100</kotor_kolto>
		</costList>
		<building>
			<bed_showSleeperBody>True</bed_showSleeperBody>
			<bed_healPerDay>20</bed_healPerDay>
			<bed_defaultMedical>true</bed_defaultMedical>
			<buildingSizeCategory>Small</buildingSizeCategory>
			<paintable>true</paintable>
		</building>
		<fillPercent>0.4</fillPercent>
		<pathCost>42</pathCost>
		<leaveResourcesWhenKilled>True</leaveResourcesWhenKilled>
		<staticSunShadowHeight>0.17</staticSunShadowHeight>
		<researchPrerequisites>
			<li>KOTOR_Research_Kolto</li>
		</researchPrerequisites>
		<constructionSkillPrerequisite>8</constructionSkillPrerequisite>
		<uiIconScale>0.75</uiIconScale>
	</ThingDef>
	
	<ThingDef ParentName="kotor_koltoTank_Base">
		<defName>kotor_koltoTank_Square</defName>
		<rotatable>false</rotatable>
		
		<graphicData>
			<shaderType>CutoutComplex</shaderType>
			<texPath>kolto_system/koltoTank_Square/KoltoTank_Square</texPath>
			<graphicClass>Graphic_Multi</graphicClass>
				<drawSize>(3,3)</drawSize>
				<drawOffset>(0,0,0.5)</drawOffset>
		</graphicData>
	</ThingDef>
	
	<ThingDef ParentName="kotor_koltoTank_Base">
		<defName>kotor_koltoTank_Round</defName>
		<rotatable>false</rotatable>
		
		<graphicData>
			<shaderType>CutoutComplex</shaderType>
			<texPath>kolto_system/koltoTank_Round/KoltoTank_Round</texPath>
			<graphicClass>Graphic_Multi</graphicClass>
				<drawSize>(3,3)</drawSize>
				<drawOffset>(0,0,0.5)</drawOffset>
		</graphicData>
	</ThingDef>

</Defs>
